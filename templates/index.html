<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0">
    <title>Ilia's Resume Chatbot</title>
    <link rel="icon" type="image/x-icon" href="/static/images/favicon.ico" />
    <link href="/static/chatStyle.css" rel="stylesheet">
    <!-- Include jQuery-->
    <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>-->
    <script src="//code.jquery.com/jquery-1.10.2.js"></script>
    <script src="//code.jquery.com/ui/1.11.3/jquery-ui.js"></script>
</head>
<body>
    <div id="chatbot_window">
        <nav id="navTitle">
            <h1>IliaBOT</h1>
            <p id="prediction"></p>
            <!--
            <details id="prediction" style="display: none">
                <summary>Predictions</summary>
                <div></div>
            </details>
            -->
        </nav>
        <div id="chat_history"></div>
        <div id="input_window">
            <form id="messageForm" onsubmit="showChatbotResponse()" autocomplete="off">
                <textarea id="userInputBox" type="text" placeholder="Type your message here"></textarea>
                <div id="sendButton" type="button" onclick="showChatbotResponse()">
                    <img src="/static/images/send.png" alt="Send">
                </div>
            </form>
        </div>
    </div>
    <script type="text/javascript">
        // empty fetch in the background to wake up my heroku based NLP pipeline API
        fetch(`/get_response`, {
            method: "POST",
            body: JSON.stringify({msg: "hi"}),
            headers: {'Content-Type': 'application/json;'}
        }).then((response) => {console.log("Loaded API")});
    </script>
    <script type="text/javascript" src="{{ url_for('static', filename='initialGreeting.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='chat.js') }}"></script>
</body>
</html>